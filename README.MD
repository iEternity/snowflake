# snowflake
snowflake算法用于本地高效生成全局唯一ID，这里采用golang实现。
ID由时间戳+机器ID+递增序列组成。

毫秒级时间戳|机器ID|递增序列
---|---|---
42位|10位|12位

- 42位时间可以最大记录69年的时间，最高位为符号位
- 10位机器ID可以最多记录1024个不同的机器
- 12位递增序列，保证1毫秒最多可以生成4096个不同ID

# 要点
- 保证线程安全，多个协程同时生成ID，保证正确性
- 需要考虑同一毫秒内生成的ID超过了4096个的情况
- 同一毫秒内才需要用到`sequence`
- 机器ID一般通过读配置获得，需要对参数范围做检查